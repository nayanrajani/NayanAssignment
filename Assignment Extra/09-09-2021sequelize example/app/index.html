<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <script >
        var xhttp = new XMLHttpRequest();
    function getdata(){
        // document.getElementById('demo').style.visibility = 'visible';
        document.getElementById('Patient_id').style.visibility = 'visible';
        document.getElementById('Doctor_id').style.visibility = 'hidden';
        document.getElementById('Patient_Name').style.visibility = 'hidden';
        document.getElementById('Patient_Age').style.visibility = 'hidden';
        document.getElementById('Patient_Gender').style.visibility = 'hidden';
        document.getElementById('Patient_Address').style.visibility = 'hidden';
        document.getElementById('Patient_Phoneno').style.visibility = 'hidden';
        document.getElementById('Patient_Disease').style.visibility = 'hidden';
        document.getElementById('Patient_Patient_type').style.visibility = 'hidden';
        document.getElementById('Patient_Ward_type').style.visibility = 'hidden';
        document.getElementById('Patient_Room_no').style.visibility = 'hidden';
        document.getElementById('submit').onclick = ()=>{
            console.log("Hello")
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                  document.getElementById("te").innerHTML =
                  this.responseText;
                }
              };
              xhttp.open('GET',`http://localhost:9081/api/patientdetails/${document.getElementById('pId').value}`)
              xhttp.send()
            }
    }

    function postdata() {
        document.getElementById('demo').style.visibility = 'visible';
        document.getElementById('pName').style.visibility = 'visible';
        document.getElementById('pdesc').style.visibility = 'hidden';
        document.getElementById('submit').onclick = ()=>{
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            document.getElementById("te").innerHTML =
            this.responseText;
          }
        };
          xhttp.open("POST", "http://localhost:9081/api/patientdetails/", true);
          xhttp.setRequestHeader(
          'Content-type', 'application/json');
          console.log(JSON.stringify({ "title": document.getElementById('pId').value, "description" : document.getElementById('pName').value}))
          xhttp.send(JSON.stringify({ "title": document.getElementById('pId').value, "description" : document.getElementById('pName').value}));
      }
    }

    function putdata() {
        document.getElementById('demo').style.visibility = 'visible';
        document.getElementById('pName').style.visibility = 'visible';
        document.getElementById('pdesc').style.visibility = 'visible';
        document.getElementById('submit').onclick = ()=>{
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            document.getElementById("te").innerHTML =
            this.responseText;
          }
        };
          xhttp.open("PUT", `http://localhost:9081/api/patientdetails/${document.getElementById('pId').value}`, true);
          xhttp.setRequestHeader(
          'Content-type', 'application/json');
          console.log(JSON.stringify({ "title": document.getElementById('pName').value, "description" : document.getElementById('pdesc').value}))
          xhttp.send(JSON.stringify({ "title": document.getElementById('pName').value, "description" : document.getElementById('pdesc').value}));
      }
    }

    function deletedata(){
        document.getElementById('demo').style.visibility = 'visible';
        document.getElementById('pName').style.visibility = 'hidden';
        document.getElementById('pdesc').style.visibility = 'hidden';
        document.getElementById('submit').onclick = ()=>{
            console.log("Hello")
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                  document.getElementById("te").innerHTML =
                  this.responseText;
                }
              };
              xhttp.open('DELETE',`http://localhost:9081/api/patientdetails/${document.getElementById('pId').value}`)
              xhttp.send()
            }
    }
  </script>

<body>
    <center>
        <h2>Press any given key to start</h2>
        <table style="border: 1px solid;" id="te"></table>
        <!-- <div id="te" style="border: 1px dashed;"></div> -->
        <hr>
        <div id="demo" style="visibility: hidden; "></div>
        Patient_id: <input type="text" placeholder="Patient_id" id='Patient_id'><br>
        Doctor_id: <input type="text" placeholder="Patient_id" id='Doctor_id'><br>
        Patient_Name: <input type="text"  placeholder="Patient_id" id="Patient_Name"><br>
        Patient_Age: <input type="text" placeholder="Patient_id" id='Patient_Age'><br>
        Patient_Gender: <input type="text" placeholder="Patient_id" id='Patient_Gender'><br>
        Patient_Address: <input type="text" placeholder="Patient_id" id="Patient_Address"><br>
        Patient_Phoneno: <input type="text" placeholder="Patient_id" id='Patient_Phoneno'><br>
        Patient_Disease: <input type="text" placeholder="Patient_id" id='Patient_Disease'><br>
        Patient_Patient_type: <input type="text" placeholder="Patient_id" id="Patient_Patient_type"><br>
        Patient_Ward_type: <input type="text" placeholder="Patient_id" id='Patient_Ward_type'><br>
        Patient_Room_no: <input type="text" placeholder="Patient_id" id='Patient_Room_no'><br>
            
            <input type="submit" value="submit" id='submit'>
        <hr>
        <!-- <button id="te">Show Table</button> -->
        <button onclick="getdata()">GET Data</button>
        <button onclick="postdata()">POST Data</button>
        <button onclick="putdata()">PUT Data</button>
        <button onclick="deletedata()">DELETE Data</button>

        
    </center>
    
</div>

</body>
</html>